<!DOCTYPE html>
<html lang="en">


<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css-Lab10.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>

<body>
    <main id="contactPage">
        <form>
            <!--label for 뒤에 id를 일치시킨다-->
            <label for="firsName"> First Name</label>
            <input type="text" name="firstname" id="firstname" required class="validated"><br>
            <label for="address"> Address</label>
            <input type="text" name="address" id="address" required class="validated"><br>
            <label for="email">Email</label>
            <input type="text" name="email" id="email" required class="validated">
            <label for="submit"></label>
            <input type="submit" value="submit">
        </form>
        <table>
            <tbody>
                <tr>
                    <td>First Name</td>
                    <td>Address</td>
                    <td>Email</td>
                </tr>
            </tbody>
        </table>

    </main>

   
    <script>
        $(document).ready(function () {
            var mainElement = document.getElementById('contactPage');

            $(mainElement).find('form input[type="submit"]').click(
                function (evt) {
                    //Function code goes here
                    evt.preventDefault(); // stop the submit from posting (default behavior)
                    //$("#Button").parent().checkValidity() 
                    //   button .  all parents .. match 'form' [0th, ie first] . call checkValidity method ...
                    if ($(evt.target).parents('form')[0].checkValidity()) {
                        // continue only if all form field are valid

                        // Add code for Lab part F here
                        // Method 2: Part (F)
                        var contact = serializeForm();
                        var html = '<tr><td>' + contact.firstname + '</td>' +
                            '<td>' + contact.address + '</td>' +
                            '<td>' + contact.email + '</td></tr>'
                        // method 1: Part (D)
                        // Replace ????? characters below with correct JQuery statements
                        // build a html row as a string
                        //var html = '<tr><td>'+ document.getElementById("firstname").value +'</td>'+
                        //           '<td>'+  $("#address").val() +'</td>'+
                        //           '<td>' + $(mainElement).find('input[type="email"]').val() + '</td></tr>';

                        $(mainElement).find('table tbody').append(html);
                        $(mainElement).find('form :input[name]').val('')
                    }



                });

            function serializeForm() {
                // select all 4 of the form input elements
                var inputFields = $(mainElement).find('form :input');
                // create an empty literal object
                var result = {};
                // iterate over all inputFields, execute the given function 
                $.each(inputFields, function (index, item) {
                    // check if we have input box (only the text boxes have names)
                    // i.e. textboxes have a name attibute
                    // true if name attribute is not null
                    var name = $(item).attr('name');
                    var value = $(item).val();
                    if (name) {
                        // add the name attribute as a property of result object
                        // result["propery"] = "value";
                        result[name] = value;
                    }
                });
                return result;
            }

        });

    
    </script>
</body>

</html>
</head>

</html>